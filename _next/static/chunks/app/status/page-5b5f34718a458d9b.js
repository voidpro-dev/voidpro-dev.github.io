(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{7027:function(t,e,o){Promise.resolve().then(o.bind(o,757))},757:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return D}});var r,a,n=o(7437),s=o(2265);function i(t){let{onLoad:e,onError:o,...r}=t,[a,n]=function(t){var e,o,r;let{chartVersion:a="current",chartPackages:n=["corechart","controls"],chartLanguage:i="en",mapsApiKey:l}=t,[c,d]=(0,s.useState)(null),[h,p]=(0,s.useState)(!1);return e="https://www.gstatic.com/charts/loader.js",o=()=>{let t=null==window?void 0:window.google;t&&(t.charts.load(a,{packages:n,language:i,mapsApiKey:l}),t.charts.setOnLoadCallback(()=>{d(t)}))},r=()=>{p(!0)},(0,s.useEffect)(()=>{if(!document)return;let t=document.querySelector('script[src="'.concat(e,'"]'));if(null==t?void 0:t.dataset.loaded){null==o||o();return}let a=t||document.createElement("script");t||(a.src=e);let n=()=>{a.dataset.loaded="1",null==o||o()};return a.addEventListener("load",n),r&&a.addEventListener("error",r),t||document.head.append(a),()=>{a.removeEventListener("load",n),r&&a.removeEventListener("error",r)}},[]),[c,h]}(r);return(0,s.useEffect)(()=>{a&&e&&e(a)},[a]),(0,s.useEffect)(()=>{n&&o&&o()},[n]),null}let l={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{}},c=0,d=()=>(c+=1,"reactgooglegraph-".concat(c)),h=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],p=async function(t,e){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((r,a)=>{let n="".concat(o.headers?"headers=".concat(o.headers):"headers=0"),s="".concat(o.query?"&tq=".concat(encodeURIComponent(o.query)):""),i="".concat(o.gid?"&gid=".concat(o.gid):""),l="".concat(o.sheet?"&sheet=".concat(o.sheet):""),c="".concat(o.access_token?"&access_token=".concat(o.access_token):""),d="".concat(n).concat(i).concat(l).concat(s).concat(c),h="".concat(e,"/gviz/tq?").concat(d);new t.visualization.Query(h).send(t=>{t.isError()?a("Error in query:  ".concat(t.getMessage()," ").concat(t.getDetailedMessage())):r(t.getDataTable())})})},{Provider:u,Consumer:g}=s.createContext(l),m=t=>{let{children:e,value:o}=t;return s.createElement(u,{value:o},e)},C=t=>{let{render:e}=t;return s.createElement(g,null,t=>e(t))};class b extends s.Component{componentDidMount(){this.draw(this.props),window.addEventListener("resize",this.onResize),(this.props.legend_toggle||this.props.legendToggle)&&this.listenToLegendToggle()}componentWillUnmount(){let{google:t,googleChartWrapper:e}=this.props;window.removeEventListener("resize",this.onResize),t.visualization.events.removeAllListeners(e),"Timeline"===e.getChartType()&&e.getChart()&&e.getChart().clearChart()}componentDidUpdate(){this.draw(this.props)}render(){return null}constructor(...t){super(...t),this.state={hiddenColumns:[]},this.listenToLegendToggle=()=>{let{google:t,googleChartWrapper:e}=this.props;t.visualization.events.addListener(e,"select",()=>{let t=e.getChart().getSelection(),o=e.getDataTable();if(0===t.length||t[0].row||!o)return;let r=t[0].column,a=this.getColumnID(o,r);this.state.hiddenColumns.includes(a)?this.setState(t=>({...t,hiddenColumns:[...t.hiddenColumns.filter(t=>t!==a)]})):this.setState(t=>({...t,hiddenColumns:[...t.hiddenColumns,a]}))})},this.applyFormatters=(t,e)=>{let{google:o}=this.props;for(let r of e)switch(r.type){case"ArrowFormat":new o.visualization.ArrowFormat(r.options).format(t,r.column);break;case"BarFormat":new o.visualization.BarFormat(r.options).format(t,r.column);break;case"ColorFormat":{let e=new o.visualization.ColorFormat(r.options),{ranges:a}=r;for(let t of a)e.addRange(...t);e.format(t,r.column);break}case"DateFormat":new o.visualization.DateFormat(r.options).format(t,r.column);break;case"NumberFormat":new o.visualization.NumberFormat(r.options).format(t,r.column);break;case"PatternFormat":new o.visualization.PatternFormat(r.options).format(t,r.column)}},this.getColumnID=(t,e)=>t.getColumnId(e)||t.getColumnLabel(e),this.draw=async t=>{let e,{data:o,diffdata:r,rows:a,columns:n,options:s,legend_toggle:i,legendToggle:l,chartType:c,formatters:d,spreadSheetUrl:h,spreadSheetQueryParameters:u}=t,{google:g,googleChartWrapper:m}=this.props,C=null;if(r){let t=g.visualization.arrayToDataTable(r.old),e=g.visualization.arrayToDataTable(r.new);C=g.visualization[c].prototype.computeDiff(t,e)}let b=(e=null!==o?Array.isArray(o)?g.visualization.arrayToDataTable(o):new g.visualization.DataTable(o):a&&n?g.visualization.arrayToDataTable([n,...a]):h?await p(g,h,u):g.visualization.arrayToDataTable([])).getNumberOfColumns();for(let t=0;t<b;t+=1){let o=this.getColumnID(e,t);if(this.state.hiddenColumns.includes(o)){let o=e.getColumnLabel(t),r=e.getColumnId(t),a=e.getColumnType(t);e.removeColumn(t),e.addColumn({label:o,id:r,type:a})}}let v=m.getChart();"Timeline"===m.getChartType()&&v&&v.clearChart(),m.setChartType(c),m.setOptions(s||{}),m.setDataTable(e),m.draw(),null!==this.props.googleChartDashboard&&this.props.googleChartDashboard.draw(e),C&&(m.setDataTable(C),m.draw()),d&&(this.applyFormatters(e,d),m.setDataTable(e),m.draw()),(!0===l||!0===i)&&this.grayOutHiddenColumns({options:s})},this.grayOutHiddenColumns=t=>{let{options:e}=t,{googleChartWrapper:o}=this.props,r=o.getDataTable();if(!r)return;let a=r.getNumberOfColumns();if(!1==this.state.hiddenColumns.length>0)return;let n=Array.from({length:a-1}).map((t,o)=>{let a=this.getColumnID(r,o+1);return this.state.hiddenColumns.includes(a)?"#CCCCCC":e&&e.colors?e.colors[o]:h[o]});o.setOptions({...e,colors:n}),o.draw()},this.onResize=()=>{let{googleChartWrapper:t}=this.props;t.draw()}}}class v extends s.Component{componentDidMount(){}componentWillUnmount(){}shouldComponentUpdate(){return!1}render(){let{google:t,googleChartWrapper:e,googleChartDashboard:o}=this.props;return s.createElement(C,{render:r=>s.createElement(b,Object.assign({},r,{google:t,googleChartWrapper:e,googleChartDashboard:o}))})}}class y extends s.Component{shouldComponentUpdate(){return!1}listenToEvents(t){let{chartEvents:e,google:o,googleChartWrapper:r}=t;if(e)for(let t of(o.visualization.events.removeAllListeners(r),e)){var a=this;let{eventName:e,callback:n}=t;o.visualization.events.addListener(r,e,function(){for(var t=arguments.length,e=Array(t),s=0;s<t;s++)e[s]=arguments[s];n({chartWrapper:r,props:a.props,google:o,eventArgs:e})})}}componentDidMount(){var t;let{google:e,googleChartWrapper:o}=this.props;this.listenToEvents({chartEvents:(null===(t=this.propsFromContext)||void 0===t?void 0:t.chartEvents)||null,google:e,googleChartWrapper:o})}render(){return this.props,s.createElement(C,{render:t=>(this.propsFromContext=t,null)})}constructor(t){super(t),this.propsFromContext=null}}let f=0;class w extends s.Component{componentDidMount(){let{options:t,google:e,chartType:o,chartWrapperParams:r,toolbarItems:a,getChartEditor:n,getChartWrapper:s}=this.props,i={chartType:o,options:t,containerId:this.getGraphID(),...r},l=new e.visualization.ChartWrapper(i);l.setOptions(t||{}),s&&s(l,e);let c=new e.visualization.Dashboard(this.dashboard_ref),d=this.addControls(l,c);a&&e.visualization.drawToolbar(this.toolbar_ref.current,a);let h=null;n&&n({chartEditor:h=new e.visualization.ChartEditor,chartWrapper:l,google:e}),this.setState({googleChartEditor:h,googleChartControls:d,googleChartDashboard:c,googleChartWrapper:l,isReady:!0})}componentDidUpdate(){if(!this.state.googleChartWrapper||!this.state.googleChartDashboard||!this.state.googleChartControls)return;let{controls:t}=this.props;if(t)for(let e=0;e<t.length;e+=1){let{controlType:o,options:r,controlWrapperParams:a}=t[e];a&&"state"in a&&this.state.googleChartControls[e].control.setState(a.state),this.state.googleChartControls[e].control.setOptions(r),this.state.googleChartControls[e].control.setControlType(o)}}shouldComponentUpdate(t,e){return this.state.isReady!==e.isReady||t.controls!==this.props.controls}render(){let{width:t,height:e,options:o,style:r}=this.props,a={height:e||o&&o.height,width:t||o&&o.width,...r};return this.props.render?s.createElement("div",{ref:this.dashboard_ref,style:a},s.createElement("div",{ref:this.toolbar_ref,id:"toolbar"}),this.props.render({renderChart:this.renderChart,renderControl:this.renderControl,renderToolbar:this.renderToolBar})):s.createElement("div",{ref:this.dashboard_ref,style:a},this.renderControl(t=>{let{controlProp:e}=t;return"bottom"!==e.controlPosition}),this.renderChart(),this.renderControl(t=>{let{controlProp:e}=t;return"bottom"===e.controlPosition}),this.renderToolBar())}constructor(...t){var e;super(...t),e=this,this.state={googleChartWrapper:null,googleChartDashboard:null,googleChartControls:null,googleChartEditor:null,isReady:!1},this.graphID=null,this.dashboard_ref=s.createRef(),this.toolbar_ref=s.createRef(),this.getGraphID=()=>{let t;let{graphID:e,graph_id:o}=this.props;return t=e||o?e&&!o?e:o&&!e?o:e:this.graphID?this.graphID:d(),this.graphID=t,this.graphID},this.getControlID=(t,e)=>(f+=1,void 0===t?"googlechart-control-".concat(e,"-").concat(f):t),this.addControls=(t,e)=>{let{google:o,controls:r}=this.props,a=r?r.map((t,e)=>{let{controlID:r,controlType:a,options:n,controlWrapperParams:s}=t,i=this.getControlID(r,e);return{controlProp:t,control:new o.visualization.ControlWrapper({containerId:i,controlType:a,options:n,...s})}}):null;if(!a)return null;for(let r of(e.bind(a.map(t=>{let{control:e}=t;return e}),t),a)){let{control:e,controlProp:a}=r,{controlEvents:s=[]}=a;for(let r of s){var n=this;let{callback:a,eventName:s}=r;o.visualization.events.removeListener(e,s,a),o.visualization.events.addListener(e,s,function(){for(var r=arguments.length,s=Array(r),i=0;i<r;i++)s[i]=arguments[i];a({chartWrapper:t,controlWrapper:e,props:n.props,google:o,eventArgs:s})})}}return a},this.renderChart=()=>{let{width:t,height:e,options:o,style:r,className:a,rootProps:n,google:i}=this.props,l={height:e||o&&o.height,width:t||o&&o.width,...r};return s.createElement("div",Object.assign({id:this.getGraphID(),style:l,className:a},n),this.state.isReady&&null!==this.state.googleChartWrapper?s.createElement(s.Fragment,null,s.createElement(v,{googleChartWrapper:this.state.googleChartWrapper,google:i,googleChartDashboard:this.state.googleChartDashboard}),s.createElement(y,{googleChartWrapper:this.state.googleChartWrapper,google:i})):null)},this.renderControl=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t=>!0;return e.state.isReady&&null!==e.state.googleChartControls?s.createElement(s.Fragment,null,e.state.googleChartControls.filter(e=>{let{controlProp:o,control:r}=e;return t({control:r,controlProp:o})}).map(t=>{let{control:e,controlProp:o}=t;return s.createElement("div",{key:e.getContainerId(),id:e.getContainerId()})})):null},this.renderToolBar=()=>this.props.toolbarItems?s.createElement("div",{ref:this.toolbar_ref}):null}}class x extends s.Component{render(){let{chartLanguage:t,chartPackages:e,chartVersion:o,mapsApiKey:r,loader:a,errorElement:n}=this.props;return s.createElement(m,{value:this.props},"ready"===this.state.loadingStatus&&null!==this.state.google?s.createElement(w,Object.assign({},this.props,{google:this.state.google})):"errored"===this.state.loadingStatus&&n?n:a,s.createElement(i,{chartLanguage:t,chartPackages:e,chartVersion:o,mapsApiKey:r,onLoad:this.onLoad,onError:this.onError}))}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}isFullyLoaded(t){let{controls:e,toolbarItems:o,getChartEditor:r}=this.props;return t&&t.visualization&&t.visualization.ChartWrapper&&t.visualization.Dashboard&&(!e||t.visualization.ChartWrapper)&&(!r||t.visualization.ChartEditor)&&(!o||t.visualization.drawToolbar)}constructor(...t){super(...t),this._isMounted=!1,this.state={loadingStatus:"loading",google:null},this.onLoad=t=>{if(this.props.onLoad&&this.props.onLoad(t),this.isFullyLoaded(t))this.onSuccess(t);else{let t=setInterval(()=>{let e=window.google;this._isMounted?e&&this.isFullyLoaded(e)&&(clearInterval(t),this.onSuccess(e)):clearInterval(t)},1e3)}},this.onSuccess=t=>{this.setState({loadingStatus:"ready",google:t})},this.onError=()=>{this.setState({loadingStatus:"errored"})}}}async function D(){var t=await fetch("https://cdn.voids.top/stats"),e=await t.json(),o=await fetch("https://cdn.voids.top/latency"),r=await o.json(),a=["#db1818","#2b2bab","#e6ed11"];let s=[["Time","CPU",{role:"tooltip",type:"string",p:{html:!0}},"Memory",{role:"tooltip",type:"string",p:{html:!0}},"Network",{role:"tooltip",type:"string",p:{html:!0}}]],i=[["Time","CDN",{role:"tooltip",type:"string",p:{html:!0}},"API",{role:"tooltip",type:"string",p:{html:!0}}]];return Object.entries(e).forEach(t=>{let[e,o]=t;var r=new Date(e),n='\n      <div style="padding:5px;background:black;width:120px;border-width:1px;border-color:#fff;">\n        <div style="display:flex;justify-content:center;align-items:center;padding-bottom:3px">\n          <h2 style="font-size:13px;color:#fff">'.concat(r.getHours().toString().padStart(2,"0"),":").concat(r.getMinutes().toString().padStart(2,"0"),'</h2>\n        </div>\n        <div style="padding-left:3px;color:#aaa">\n          <b style="color:').concat(a[0],'">CPU</b><b> : </b><b style="color:').concat(o.cpu.percent>80?"red":"#aaa",'">').concat(o.cpu.percent,'%</b><br>\n          <b style="color:').concat(a[1],'">Memory</b><b> : </b><b style="color:').concat(o.mem.percent>80?"red":"#aaa",'">').concat(o.mem.percent,'%</b><br>\n          <b style="padding-left:8px">').concat(o.mem.amount,'</b><br>\n          <b style="color:').concat(a[2],'">Network</b><b> : </b><b style="color:').concat(o.network.percent>80?"red":"#aaa",'">').concat(o.network.percent,'%</b><br>\n          <div style="padding-left:5px"><b>').concat(o.network.amount,"</b><br></div>\n        </div>\n      </div>");s.push([r,o.cpu.percent,n,o.mem.percent,n,o.network.percent,n])}),Object.entries(r).forEach(t=>{let[e,o]=t;var r=new Date(e),n='\n      <div style="padding:5px;background:black;width:140px;border-width:1px;border-color:#fff;">\n        <div style="display:flex;justify-content:center;align-items:center;padding-bottom:3px">\n          <h2 style="font-size:13px;color:#fff">'.concat(r.getHours().toString().padStart(2,"0"),":").concat(r.getMinutes().toString().padStart(2,"0"),'</h2>\n        </div>\n        <div style="padding-left:3px;color:#aaa">\n          <b style="color:').concat(a[0],'">CDN</b><b> : </b><b style="color:').concat(o.cdn.latency>1e3?"red":"#aaa",'">').concat(o.cdn?o.cdn.latency:"-",'ms</b><br>\n          <b style="color:').concat(a[1],'">API</b><b> : </b><b style="color:').concat(o.api.latency>1e3?"red":"#aaa",'">').concat(o.api?o.api.latency:"-","ms</b><br>\n        </div>\n      </div>");i.push([r,o.cdn?o.cdn.latency:null,n,o.api?o.api.latency:null,n])}),(0,n.jsx)("main",{style:{display:"flex",width:"100%",flexDirection:"column",alignItems:"center"},children:(0,n.jsxs)("div",{style:{width:"100%",marginBottom:"100px"},children:[(0,n.jsx)("p",{style:{paddingTop:"40px",marginBottom:"-40px",textAlign:"center"},children:"System"}),(0,n.jsx)(x,{style:{marginLeft:"0px",marginRight:"0px"},chartType:"LineChart",data:s,options:{colors:a,curveType:"none",vAxis:{maxValue:100,minValue:0,title:"Usage",gridlines:{color:"#ccc",count:1},minorGridlines:{count:0},viewWindow:{min:0,max:100}},hAxis:{title:"Date",format:"HH:mm",gridlines:{color:"#ccc",count:-1},minorGridlines:{count:0}},backgroundColor:"none",tooltip:{isHtml:!0},vAxes:{0:{title:"Usage (%)",textStyle:{color:"#aaa"},titleTextStyle:{color:"#aaa"},gridlines:{count:-1}}},hAxes:{0:{title:"Date",textStyle:{color:"#aaa"},titleTextStyle:{color:"#aaa"},gridlines:{count:-1}}},chartArea:{width:"80%",height:"70%"},legend:{position:"bottom",textStyle:{color:"#aaa"}}},height:"400px"}),(0,n.jsx)("p",{style:{paddingTop:"40px",marginBottom:"-40px",textAlign:"center"},children:"Latency"}),(0,n.jsx)(x,{style:{marginLeft:"0px",marginRight:"0px"},chartType:"LineChart",data:i,options:{colors:a,curveType:"none",vAxis:{title:"Latency",gridlines:{color:"#ccc",count:0},minorGridlines:{count:0},viewWindow:{min:0}},hAxis:{title:"Date",format:"HH:mm",gridlines:{color:"#ccc",count:-1},minorGridlines:{count:0}},backgroundColor:"none",tooltip:{isHtml:!0},vAxes:{0:{title:"Latency (ms)",textStyle:{color:"#aaa"},titleTextStyle:{color:"#aaa"},gridlines:{count:-1}}},hAxes:{0:{title:"Date",textStyle:{color:"#aaa"},titleTextStyle:{color:"#aaa"},gridlines:{count:-1}}},chartArea:{width:"80%",height:"70%"},legend:{position:"bottom",textStyle:{color:"#aaa"}}},height:"400px"})]})})}x.defaultProps=l,(r=a||(a={})).annotation="annotation",r.annotationText="annotationText",r.certainty="certainty",r.emphasis="emphasis",r.interval="interval",r.scope="scope",r.style="style",r.tooltip="tooltip",r.domain="domain",o(1969)},1969:function(){}},function(t){t.O(0,[345,971,23,744],function(){return t(t.s=7027)}),_N_E=t.O()}]);